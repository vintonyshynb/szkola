<!doctype html>
<html lang="pl">

<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <link rel="stylesheet" href="styles.css" />
    <title>Generator figur</title>
</head>

<body>
    <div class="controls" aria-label="Kontrolki generatora figur">
        <h3>Generator figur</h3>

        <label for="shape">Figura</label>
        <select id="shape">
            <option value="square">Kwadrat</option>
            <option value="rectangle">Prostokąt</option>
            <option value="triangle">Trójkąt</option>
            <option value="circle">Koło</option>
            <option value="ellipse">Elipsa</option>
            <option value="polygon">Wielościan (5 boków)</option>
        </select>

        <div class="row">
            <div style="flex:1">
                <label for="width">Szerokość (px)</label>
                <input id="width" type="number" min="10" value="150" />
            </div>
            <div style="flex:1">
                <label for="height">Wysokość (px)</label>
                <input id="height" type="number" min="10" value="150" />
            </div>
        </div>

        <label for="fill">Kolor wypełnienia</label>
        <input id="fill" type="color" value="#ff6b6b" />

        <label for="stroke">Kolor obrysu (pusty = brak)</label>
        <input id="stroke" type="color" value="#333333" />

        <label for="strokeWidth">Grubość obrysu (px)</label>
        <input id="strokeWidth" type="number" min="0" value="2" />

        <div class="row">
            <button id="draw">Generuj</button>
            <button id="random">Losuj</button>
            <button id="clear" style="background:#e24b4b">Wyczyść</button>
        </div>

        <p class="hint">Ustaw wymiary i kolor, wybierz figurę i kliknij "Generuj". "Losuj" wypełnia pola losowymi
            wartościami.</p>
    </div>

    <div class="playground" role="region" aria-label="Obszar rysowania">
        <svg id="canvas" viewBox="0 0 800 420" xmlns="http://www.w3.org/2000/svg" role="img" aria-labelledby="svgTitle">
            <title id="svgTitle">Obszar rysowania</title>
            <rect x="0" y="0" width="800" height="420" fill="transparent"></rect>
        </svg>
    </div>
    <script src="script.js"></script>
</body>

</html>
const shapeEl = document.getElementById('shape');
const widthEl = document.getElementById('width');
const heightEl = document.getElementById('height');
const fillEl = document.getElementById('fill');
const strokeEl = document.getElementById('stroke');
const strokeWidthEl = document.getElementById('strokeWidth');
const drawBtn = document.getElementById('draw');
const clearBtn = document.getElementById('clear');
const randomBtn = document.getElementById('random');
const svg = document.getElementById('canvas');

function clearCanvas() {
    while (svg.children.length > 1) svg.removeChild(svg.lastChild);
}

function centerCoordsFor(sizeW, sizeH) {
    const cx = 800 / 2;
    const cy = 420 / 2;
    return { cx, cy };
}

function drawShape(opts) {
    clearCanvas();
    const w = Math.max(1, +opts.width);
    const h = Math.max(1, +opts.height);
    const fill = opts.fill || 'transparent';
    const stroke = opts.stroke || 'none';
    const strokeWidth = +opts.strokeWidth || 0;
    const shape = opts.shape || 'square';
    const { cx, cy } = centerCoordsFor(w, h);

    if (shape === 'square' || shape === 'rectangle') {
        const x = cx - w / 2;
        const y = cy - h / 2;
        const rect = document.createElementNS('http://www.w3.org/2000/svg', 'rect');
        rect.setAttribute('x', x);
        rect.setAttribute('y', y);
        rect.setAttribute('width', w);
        rect.setAttribute('height', h);
        rect.setAttribute('fill', fill);
        if (strokeWidth > 0) {
            rect.setAttribute('stroke', stroke);
            rect.setAttribute('stroke-width', strokeWidth);
        }
        svg.appendChild(rect);
    } else if (shape === 'circle') {
        const r = Math.min(w, h) / 2;
        const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        circle.setAttribute('cx', cx);
        circle.setAttribute('cy', cy);
        circle.setAttribute('r', r);
        circle.setAttribute('fill', fill);
        if (strokeWidth > 0) {
            circle.setAttribute('stroke', stroke);
            circle.setAttribute('stroke-width', strokeWidth);
        }
        svg.appendChild(circle);
    } else if (shape === 'ellipse') {
        const rx = w / 2;
        const ry = h / 2;
        const el = document.createElementNS('http://www.w3.org/2000/svg', 'ellipse');
        el.setAttribute('cx', cx);
        el.setAttribute('cy', cy);
        el.setAttribute('rx', rx);
        el.setAttribute('ry', ry);
        el.setAttribute('fill', fill);
        if (strokeWidth > 0) {
            el.setAttribute('stroke', stroke);
            el.setAttribute('stroke-width', strokeWidth);
        }
        svg.appendChild(el);
    } else if (shape === 'triangle') {
        const x1 = cx;
        const y1 = cy - h / 2;
        const x2 = cx - w / 2;
        const y2 = cy + h / 2;
        const x3 = cx + w / 2;
        const y3 = cy + h / 2;
        const poly = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
        poly.setAttribute('points', `${x1},${y1} ${x2},${y2} ${x3},${y3}`);
        poly.setAttribute('fill', fill);
        if (strokeWidth > 0) {
            poly.setAttribute('stroke', stroke);
            poly.setAttribute('stroke-width', strokeWidth);
        }
        svg.appendChild(poly);
    } else if (shape === 'polygon') {
        const sides = 5;
        const radius = Math.min(w, h) / 2;
        const points = [];
        for (let i = 0; i < sides; i++) {
            const angle = -Math.PI / 2 + (2 * Math.PI * i) / sides;
            const x = cx + Math.cos(angle) * radius;
            const y = cy + Math.sin(angle) * radius;
            points.push(`${x},${y}`);
        }
        const poly = document.createElementNS('http://www.w3.org/2000/svg', 'polygon');
        poly.setAttribute('points', points.join(' '));
        poly.setAttribute('fill', fill);
        if (strokeWidth > 0) {
            poly.setAttribute('stroke', stroke);
            poly.setAttribute('stroke-width', strokeWidth);
        }
        svg.appendChild(poly);
    } else {
        const c = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
        c.setAttribute('cx', cx);
        c.setAttribute('cy', cy);
        c.setAttribute('r', 20);
        c.setAttribute('fill', fill);
        svg.appendChild(c);
    }
}

drawBtn.addEventListener('click', () => {
    const opts = {
        shape: shapeEl.value,
        width: widthEl.value,
        height: heightEl.value,
        fill: fillEl.value,
        stroke: strokeEl.value,
        strokeWidth: strokeWidthEl.value
    };
    drawShape(opts);
});

clearBtn.addEventListener('click', () => {
    clearCanvas();
});

randomBtn.
    addEventListener('click', () => {
        const randomColor = () => '#' + Math.floor(Math.random() * 16777215).toString(16).padStart(6, '0');
        shapeEl.value = ['square', 'rectangle', 'triangle', 'circle', 'ellipse', 'polygon'][Math.floor(Math.random() * 6)];
        widthEl.value = Math.floor(Math.random() * 280) + 40;
        heightEl.value = Math.floor(Math.random() * 220) + 40;
        fillEl.value = randomColor();
        strokeEl.value = randomColor();
        strokeWidthEl.value = Math.floor(Math.random() * 6);
        drawBtn.click();
    });

document.addEventListener('DOMContentLoaded', () => {
    drawBtn.click();
});

svg.addEventListener('click', (e) => {
    if (svg.children.length > 1) {
        clearCanvas();
    } else {
        drawBtn.click();
    }
}, false);
body {
    font-family: system-ui, -apple-system, "Segoe UI", Roboto, "Helvetica Neue", Arial;
    margin: 16px;
    display: grid;
    grid-template-columns: 320px 1fr;
    gap: 16px;
    align-items: start;
}

.controls {
    padding: 12px;
    border: 1px solid #ddd;
    border-radius: 8px;
    background: #fafafa;
}

.controls label {
    display: block;
    margin-top: 8px;
    font-size: 14px;
}

.controls input[type="number"],
.controls select {
    width: 100%;
    padding: 6px 8px;
    margin-top: 4px;
    box-sizing: border-box;
}

.controls .row {
    display: flex;
    gap: 8px;
}

.controls button {
    margin-top: 12px;
    padding: 10px 12px;
    border: none;
    border-radius: 6px;
    cursor: pointer;
    background: #2b8cff;
    color: white;
    font-weight: 600;
}

.playground {
    border: 1px dashed #ccc;
    border-radius: 8px;
    padding: 12px;
    min-height: 420px;
    display: flex;
    justify-content: center;
    align-items: center;
    background: linear-gradient(180deg, #fff 0%, #f7f8fb 100%);
}

svg {
    width: 100%;
    height: 420px;
    max-height: 70vh;
    outline: none;
}

.hint {
    margin-top: 8px;
    font-size: 13px;
    color: #555;
}
